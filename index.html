<script>
        const API_KEY = 'd0eHunC1JvEfbA8TZ0ZQqBRPLwxKhZDOdQRD';
        const SERVICE_DOMAIN = 'olmvd2mpzz'; // ここを修正しました！
        const ENDPOINT = 'blog'; // ここが「blog」で合っているかも再確認してくださいね

        async function fetchPosts() {
            try {
                const response = await fetch(
                    `https://${SERVICE_DOMAIN}.microcms.io/api/v1/${ENDPOINT}`,
                    {
                        headers: { 'X-MICROCMS-API-KEY': API_KEY }
                    }
                );
                
                if (!response.ok) {
                    throw new Error('ネットワーク応答が正常ではありません');
                }

                const data = await response.json();
                displayPosts(data.contents);
            } catch (error) {
                console.error('エラーが発生しました:', error);
                document.getElementById('news-list').innerHTML = '記事の取得に失敗しました。';
            }
        }

        function displayPosts(posts) {
            const listElement = document.getElementById('news-list');
            if (!posts || posts.length === 0) {
                listElement.innerHTML = '<p>記事がまだありません。</p>';
                return;
            }

            listElement.innerHTML = posts.map(post => {
                const date = new Date(post.publishedAt || post.createdAt).toLocaleDateString();
                return `
                    <div class="post-item">
                        <span class="post-date">${date}</span>
                        <span class="post-title">${post.title}</span>
                    </div>
                `;
            }).join('');
        }

        fetchPosts();
    </script>
